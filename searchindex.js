Search.setIndex({"docnames": ["API/_autosummary/autofaiss.external.quantize.build_index", "API/_autosummary/autofaiss.external.quantize.score_index", "API/_autosummary/autofaiss.external.quantize.tune_index", "API/api", "_source/autofaiss", "_source/autofaiss.external", "_source/autofaiss.indices", "_source/autofaiss.metrics", "_source/autofaiss.utils", "_source/modules", "getting_started/quantization", "index", "introduction/introduction", "notebooks/autofaiss_getting_started", "notebooks/autofaiss_index_selection_demo", "notebooks/autofaiss_multimodal_search"], "filenames": ["API/_autosummary/autofaiss.external.quantize.build_index.rst", "API/_autosummary/autofaiss.external.quantize.score_index.rst", "API/_autosummary/autofaiss.external.quantize.tune_index.rst", "API/api.rst", "_source/autofaiss.rst", "_source/autofaiss.external.rst", "_source/autofaiss.indices.rst", "_source/autofaiss.metrics.rst", "_source/autofaiss.utils.rst", "_source/modules.rst", "getting_started/quantization.rst", "index.rst", "introduction/introduction.rst", "notebooks/autofaiss_getting_started.ipynb", "notebooks/autofaiss_index_selection_demo.ipynb", "notebooks/autofaiss_multimodal_search.ipynb"], "titles": ["autofaiss.external.quantize.build_index", "autofaiss.external.quantize.score_index", "autofaiss.external.quantize.tune_index", "Python documentation", "autofaiss package", "autofaiss.external package", "autofaiss.indices package", "autofaiss.metrics package", "autofaiss.utils package", "autofaiss", "Creating an index", "autofaiss reference documentation", "Introduction", "Autofaiss getting started", "Autofaiss Index selection demo slider", "Install clip + autofaiss"], "terms": {"embed": [0, 1, 5, 6, 10, 11], "index_path": [0, 1, 2, 5, 6, 10, 13, 15], "knn": [0, 5, 6, 10, 11, 15], "index": [0, 1, 2, 5, 6, 7, 8, 11, 12], "index_infos_path": [0, 5, 6, 10, 13, 15], "index_info": [0, 5], "json": [0, 1, 5, 10, 13, 15], "ids_path": [0, 5, 10], "none": [0, 2, 5, 6, 7, 8, 10, 15], "save_on_disk": [0, 1, 2, 5, 6, 10], "true": [0, 1, 2, 5, 8, 10, 13, 14, 15], "file_format": [0, 5, 10], "npy": [0, 5, 10, 13], "embedding_column_nam": [0, 5, 6, 10], "id_column": [0, 5, 6, 10], "index_kei": [0, 2, 5, 6, 10], "index_param": [0, 2, 5, 6, 10], "max_index_query_time_m": [0, 2, 5, 6, 10, 13, 15], "10": [0, 2, 5, 6, 10, 13, 15], "0": [0, 2, 5, 6, 8, 13, 14, 15], "max_index_memory_usag": [0, 5, 6, 10, 13, 14, 15], "16g": [0, 5, 6, 8], "min_nearest_neighbors_to_retriev": [0, 2, 5, 6, 10], "20": [0, 1, 2, 5, 6, 10, 15], "current_memory_avail": [0, 1, 5, 6, 10], "32g": [0, 1, 5, 6], "use_gpu": [0, 2, 5, 6, 10], "fals": [0, 2, 5, 6, 8, 10, 14, 15], "metric_typ": [0, 5, 6, 8, 10, 13, 15], "ip": [0, 5, 6, 10, 13, 15], "nb_core": [0, 5, 6, 10], "make_direct_map": [0, 5, 6, 10], "should_be_memory_mapp": [0, 5, 6, 10], "distribut": [0, 4, 5, 9, 10], "temporary_indices_fold": [0, 5, 6, 10], "hdf": [0, 5, 6, 10], "root": [0, 5, 6, 10, 15], "tmp": [0, 5, 6, 10], "distributed_autofaiss_indic": [0, 5, 6, 10], "verbos": [0, 1, 2, 5, 8, 10], "nb_indices_to_keep": [0, 5, 6, 10], "1": [0, 5, 6, 7, 10, 13, 14, 15], "sourc": [0, 1, 2, 5, 6, 7, 8, 10, 12], "read": [0, 5, 10, 13], "creat": [0, 2, 5, 6, 11, 12, 13, 15], "from": [0, 5, 6, 8, 10, 13, 14], "them": [0, 5], "The": [0, 2, 5, 6, 8, 11, 13, 14, 15], "i": [0, 1, 2, 5, 6, 8, 10, 12, 13, 15], "store": [0, 5, 10, 15], "current": [0, 1, 5, 10], "machin": [0, 1, 5, 10], "given": [0, 1, 2, 5, 6, 7, 10, 13, 15], "output": [0, 1, 2, 5, 10, 14], "path": [0, 1, 2, 4, 5, 6, 9, 10, 13, 15], "paramet": [0, 1, 2, 5, 6, 8, 11, 14], "union": [0, 1, 2, 5, 10], "str": [0, 1, 2, 5, 6, 8, 10, 14], "np": [0, 1, 5, 13, 15], "ndarrai": [0, 1, 5, 6, 7], "list": [0, 5, 6, 7, 10], "local": [0, 5, 10, 13, 15], "contain": [0, 1, 3, 5, 6, 10], "all": [0, 1, 5, 8, 10], "preprocess": [0, 1, 5, 10, 15], "vector": [0, 1, 5, 6, 7, 10, 12, 13, 14, 15], "cach": [0, 1, 5, 10, 15], "file": [0, 1, 2, 5, 6, 10, 15], "thi": [0, 2, 5, 6, 10, 12, 13], "could": [0, 5], "singl": [0, 5, 7], "directori": [0, 5, 6, 10, 15], "multipl": [0, 5, 6], "ad": [0, 5, 6, 10, 13, 15], "empti": [0, 5], "Or": [0, 1, 5, 10], "directli": [0, 5, 10], "numpi": [0, 5, 6, 8, 10, 13, 15], "arrai": [0, 1, 5, 6, 7, 8], "option": [0, 1, 2, 5, 6, 10], "destin": [0, 5, 10], "model": [0, 5, 15], "metadata": [0, 4, 6, 9, 14, 15], "onli": [0, 5, 8, 10], "us": [0, 1, 5, 6, 7, 8, 12], "when": [0, 2, 5, 6, 10], "parquet": [0, 5, 6, 10, 15], "t": [0, 5, 8], "hi": [0, 5], "ani": [0, 5, 6, 10, 15], "filesystem": [0, 5, 10], "where": [0, 5, 10], "map": [0, 5, 6, 10], "id": [0, 5, 6, 10], "format": [0, 5, 6, 10], "bool": [0, 1, 2, 5, 8, 10], "whether": [0, 1, 2, 5, 10], "save": [0, 1, 2, 5, 6, 10, 11, 15], "disk": [0, 1, 2, 5, 6, 10, 11, 15], "default": [0, 1, 2, 5, 10], "column": [0, 5, 10], "name": [0, 5, 8, 10], "can": [0, 1, 2, 5, 6, 10, 12, 13], "In": [0, 5, 10], "case": [0, 5, 11], "ar": [0, 2, 5, 6, 10, 13, 15], "separ": [0, 5, 10], "gener": [0, 5, 10], "indic": [0, 4, 5, 9, 10, 12, 13], "string": [0, 2, 5, 6, 8, 10], "give": [0, 2, 5, 10], "factori": [0, 2, 5, 10], "order": [0, 2, 5, 10, 13], "If": [0, 2, 5, 10], "an": [0, 1, 2, 5, 6, 7, 11, 12], "chosen": [0, 2, 5, 10], "base": [0, 2, 5, 6, 8, 10, 14], "heurist": [0, 2, 5, 10], "hyperparamet": [0, 2, 5, 6, 10, 13, 15], "set": [0, 1, 2, 5, 6, 10], "hyper": [0, 2, 5, 10], "float": [0, 1, 2, 5, 6, 7, 8, 10], "bound": [0, 5, 10], "queri": [0, 2, 5, 6, 7, 10, 13], "time": [0, 1, 5, 8, 11, 13, 15], "search": [0, 4, 5, 8, 9, 10, 11, 12, 13, 15], "approxim": [0, 5, 10], "maximum": [0, 5, 10], "size": [0, 5, 6, 10, 13, 14, 15], "allow": [0, 5, 10], "strict": [0, 5, 10], "int": [0, 1, 2, 5, 6, 7, 8, 10], "minimum": [0, 2, 5, 10], "number": [0, 2, 5, 6, 8, 10, 13, 14, 15], "nearest": [0, 2, 5, 6, 10], "neighbor": [0, 2, 5, 10], "retriev": [0, 2, 5, 6, 10, 15], "dure": [0, 5, 10], "finetun": [0, 5, 10], "step": [0, 5, 6, 10], "taken": [0, 5, 10], "account": [0, 5, 10], "select": [0, 5, 10, 11, 13, 15], "algorithm": [0, 4, 5, 9, 10], "ha": [0, 5, 10], "prioriti": [0, 5, 10], "over": [0, 5, 6, 10], "constraint": [0, 2, 5, 10, 13], "memori": [0, 1, 5, 6, 8, 10, 11, 13, 14, 15], "avail": [0, 1, 5, 6, 10, 13, 15], "have": [0, 1, 5, 10, 13, 15], "more": [0, 1, 5, 6, 10], "boost": [0, 1, 5, 10], "becaus": [0, 1, 5, 6, 10], "reduc": [0, 1, 5, 10], "swipe": [0, 1, 5, 10], "between": [0, 1, 5, 10], "ram": [0, 1, 5, 6, 10], "experiment": [0, 2, 5, 10], "gpu": [0, 2, 5, 10], "train": [0, 2, 4, 5, 9, 10, 13, 15], "faster": [0, 2, 5, 10], "test": [0, 2, 5, 10], "so": [0, 2, 5, 10], "far": [0, 2, 5, 10], "similar": [0, 5, 10, 11, 12, 13, 15], "function": [0, 3, 5, 6, 7, 8, 10, 14], "inner": [0, 5, 6, 10, 13], "product": [0, 5, 6, 10, 13], "l2": [0, 5, 10, 13], "euclidian": [0, 5, 10], "distanc": [0, 5, 6, 8, 10, 13], "core": [0, 5, 6, 10], "Will": [0, 5, 10], "try": [0, 5, 10], "guess": [0, 5, 10], "right": [0, 5, 10], "provid": [0, 5, 10], "direct": [0, 5, 10], "reconstruct": [0, 4, 5, 9, 10, 13, 15], "need": [0, 5, 10], "ivf": [0, 5, 10], "note": [0, 5, 10], "might": [0, 5, 10], "increas": [0, 5, 10], "usag": [0, 5, 10, 11], "8gb": [0, 5, 10], "billion": [0, 5, 10], "among": [0, 5, 10], "make": [0, 2, 5, 10], "possibl": [0, 5, 10, 12], "50gb": [0, 5, 10], "1gb": [0, 5, 10, 15], "pyspark": [0, 5, 6, 10], "support": [0, 5, 6], "folder": [0, 5, 6, 10, 13], "temporari": [0, 5, 6, 10], "small": [0, 5, 6, 10], "each": [0, 5, 7, 10], "spark": [0, 5], "executor": [0, 5, 6], "via": [0, 1, 2, 5, 10], "log": [0, 1, 2, 5, 8, 10], "level": [0, 1, 2, 5, 10], "info": [0, 1, 2, 5, 10, 13, 15], "keep": [0, 5, 6, 10], "most": [0, 5, 6, 10, 13, 15], "It": [0, 5, 6, 10, 12, 13], "you": [0, 5, 10, 12, 13], "build": [0, 4, 9, 10, 11], "larger": [0, 5], "than": [0, 5, 6, 10], "equal": [0, 5], "expect": [0, 5], "follow": [0, 5, 10], "rang": [0, 5, 7, 8], "return": [0, 1, 2, 5, 6, 7, 8, 11, 14], "metric": [0, 1, 4, 5, 6, 8, 9, 10, 13, 15], "type": [0, 1, 2, 5, 6, 7, 8, 13, 15], "tupl": [0, 5, 6], "dict": [0, 1, 5, 6], "output_index_info_path": [1, 5, 10], "comput": [1, 5, 6, 7, 10, 13, 15], "ground": [1, 5, 10], "truth": [1, 5, 10], "fast": [1, 5, 8, 10, 13, 15], "score": [1, 4, 9, 11], "next": [1, 5, 10, 12], "faiss": [1, 2, 5, 6, 8, 10, 13, 15], "also": [1, 2, 5, 10], "metric_info": [1, 5], "output_index_path": [2, 5, 10], "tuned_knn": [2, 5], "otherwis": [2, 5, 8, 10], "perform": [2, 5, 10], "greedi": [2, 5, 10], "heusist": [2, 5, 10], "best": [2, 5, 6, 10, 13, 15], "out": [2, 5, 10], "newli": [2, 5, 10], "speed": [2, 5, 6, 10, 13], "modul": [3, 9, 11], "export": 3, "extern": [4, 9, 14], "descript": [4, 9, 10, 14], "optim": [4, 6, 8, 9, 10, 13, 14], "quantiz": [4, 7, 9, 11, 12], "faiss_index_wrapp": [4, 9], "index_factori": [4, 9, 10], "index_util": [4, 9], "memory_efficient_flat_index": [4, 9], "benchmark": [4, 6, 9], "recal": [4, 5, 9, 10, 13], "util": [4, 9], "array_funct": [4, 9], "cast": [4, 9], "decor": [4, 9], "gather": 5, "necessari": [5, 10], "add_embeddings_to_index": 5, "embedding_read": [5, 6], "trained_index_or_path": [5, 6], "embedding_ids_df_handl": [5, 6], "distributed_engin": 5, "index_optim": [5, 6], "add": [5, 6, 10, 11, 15], "create_index": 5, "create_partitioned_index": [5, 6], "partit": [5, 6, 8, 11], "output_root_dir": [5, 6, 10], "temp_root_dir": [5, 6, 10], "big_index_threshold": [5, 6, 10], "5000000": 5, "nb_splits_per_big_index": [5, 6, 10], "maximum_nb_thread": [5, 6, 10], "256": [5, 6, 10, 15], "e": [5, 6, 10, 12], "one": [5, 6, 10], "per": [5, 6, 10], "activ": [5, 12], "session": 5, "must": 5, "exist": [5, 11, 13, 15], "befor": [5, 7], "call": [5, 10, 15], "method": 5, "estimate_memory_required_for_index_cr": 5, "nb_vector": [5, 14], "vec_dim": 5, "estim": [5, 13, 15], "valu": [5, 6, 10, 14], "byte": [5, 8, 13, 15], "get_estimated_construction_time_info": 5, "indent": [5, 8], "construct": [5, 13, 15], "differ": [5, 7, 10], "featur": [5, 10], "class": [5, 6, 8], "indexblock": 5, "enum": [5, 8], "enumer": [5, 13], "flat": [5, 6], "hnsw": [5, 10], "3": [5, 10, 13, 15], "ivf_hnsw": 5, "2": [5, 6, 10, 13, 14, 15], "opq": 5, "5": [5, 6, 13, 14, 15], "pad": 5, "6": [5, 13, 15], "pq": 5, "4": [5, 13, 14, 15], "tunableparam": 5, "efsearch": [5, 10, 13, 15], "ht": [5, 10], "nprobe": [5, 10], "indexmetadata": [5, 14], "dim_vector": [5, 14], "object": [5, 6], "dimens": [5, 10, 13, 14, 15], "we": [5, 6, 10], "don": 5, "code": [5, 6], "simpl": 5, "compute_memory_necessary_for_ivf_flat": 5, "nb_training_vector": 5, "ivf_flat": 5, "compute_memory_necessary_for_opq_ivf_hnsw_pq": 5, "opq_ivf_hnsw_pq": 5, "compute_memory_necessary_for_opq_ivf_pq": 5, "opq_ivf_pq": 5, "compute_memory_necessary_for_pad_ivf_hnsw_pq": 5, "pad_ivf_hnsw_pq": 5, "compute_memory_necessary_for_train": 5, "estimated_index_size_in_byt": 5, "get_index_descript": [5, 14], "tunable_parameters_info": [5, 14], "get_index_typ": 5, "indextyp": 5, "not_support": 5, "compute_memory_necessary_for_training_wrapp": 5, "find": [5, 14], "binary_search_on_param": 5, "parameter_rang": 5, "max_speed_m": 5, "hyperparameter_str_from_param": 5, "timeout_boost_for_precision_search": 5, "max_timeout_per_iteration_": 5, "appli": [5, 6, 8, 10], "binari": [5, 8, 10], "maxim": [5, 10], "millisecond": [5, 6], "sort": 5, "callabl": [5, 6], "which": [5, 10], "do": [5, 6, 10], "timeout": 5, "precis": [5, 6], "phase": 5, "iter": [5, 6], "second": [5, 8, 13, 15], "check_if_index_needs_train": 5, "check": [5, 13, 15], "get_min_param_value_for_best_neighbors_coverag": 5, "targeted_nb_neighbors_to_queri": 5, "targeted_coverag": 5, "99": 5, "minim": 5, "averag": [5, 6, 7, 10], "request": [5, 15], "k": [5, 6, 13], "coverag": 5, "param_valu": 5, "min_param_valu": 5, "min": [5, 14], "max": [5, 13, 14], "target": 5, "ratio": [5, 10, 13, 15], "realli": 5, "retriv": 5, "ask": 5, "get_optimal_batch_s": 5, "batch": [5, 6, 7], "its": 5, "full": 5, "potenti": 5, "get_optimal_hyperparamet": 5, "min_ef_search": 5, "32": [5, 15], "get_optimal_index_keys_v2": [5, 14], "flat_threshold": 5, "1000": [5, 14, 15], "quantization_threshold": 5, "10000": [5, 14], "force_pq": 5, "ivf_flat_threshold": 5, "1000000": 5, "interest": 5, "top": [5, 10, 13], "promis": [5, 13, 15], "see": 5, "http": [5, 10, 13, 15], "github": [5, 10, 13], "com": [5, 10, 13, 15], "facebookresearch": [5, 10], "wiki": [5, 10], "guidelin": [5, 10], "choos": [5, 6, 10], "detail": [5, 10], "explan": 5, "get_optimal_ivf": 5, "relev": 5, "dataset": [5, 10, 13, 14], "get_optimal_nb_clust": 5, "recommend": 5, "cluster": [5, 10], "first": [5, 8, 12], "get_optimal_quant": 5, "force_quantization_valu": 5, "force_max_index_memory_usag": 5, "forc": [5, 8, 10], "pqx": 5, "result": [5, 10, 14, 15], "would": [5, 10, 14], "good": 5, "choic": 5, "too": [5, 10, 13], "strong": 5, "get_optimal_train_s": 5, "determin": 5, "point": 5, "mean": 5, "index_key_to_nb_clust": 5, "take": [5, 10], "kei": 5, "optimize_and_measure_index": 5, "calcul": [5, 6], "main": 5, "begin": 5, "build_index": [5, 11, 13, 15], "build_partitioned_index": [5, 11], "A": [5, 6, 10], "written": [5, 6, 10], "": [5, 10, 13, 14, 15], "euclidean": [5, 10], "intermedi": [5, 10], "split": [5, 10, 13], "big": [5, 6, 10, 13], "bigger": [5, 6, 10], "threshold": [5, 10], "defin": [5, 8, 10], "consid": [5, 10], "thread": [5, 10], "parallel": [5, 6, 10], "creation": [5, 10, 11], "check_not_null_not_empti": 5, "entri": 5, "score_index": [5, 10], "setup_log": 5, "logging_level": 5, "setup": [5, 15], "tune_index": [5, 11], "compute_fast_metr": 5, "omp_thread": 5, "query_max": 5, "compute_medium_metr": 5, "memory_avail": 5, "ground_truth": [5, 7], "eval_item_id": [5, 7], "r": [5, 7], "intersect": [5, 10], "get_ground_truth": 5, "faiss_metric_typ": 5, "query_embed": 5, "perfect": 5, "common": 6, "add_embeddings_to_index_loc": 6, "memory_available_for_ad": 6, "add_embeddings_with_id": 6, "driver": 6, "get_optimize_index_fn": 6, "get_write_ids_df_to_parquet_fn": 6, "ids_root_dir": 6, "write": 6, "panda": [6, 15], "datafram": 6, "add_embeddings_to_index_distribut": 6, "embeddingread": 6, "reader": 6, "cpu": [6, 15], "pd": [6, 15], "handl": 6, "after": [6, 7], "merg": 6, "create_big_index": 6, "embedding_root_dir": 6, "ss": 6, "create_small_index": 6, "wrapper": 6, "like": [6, 10], "faissindexwrapp": 6, "d": [6, 15], "abc": 6, "abstract": 6, "describ": 6, "librari": [6, 12], "x": [6, 8], "2d": 6, "shape": 6, "batch_siz": 6, "vector_dim": 6, "neighbour": 6, "everi": 6, "label": [6, 14], "fix": 6, "ef_construct": 6, "custom": 6, "some": [6, 10], "issu": 6, "format_speed_ms_per_queri": 6, "m": [6, 12, 14], "nice": 6, "get_bytes_from_index": 6, "transform": 6, "bytearrai": 6, "get_index_from_byt": 6, "index_byt": 6, "correspond": 6, "get_index_s": 6, "initialize_direct_map": 6, "load_index": 6, "index_src_path": 6, "index_dst_path": 6, "parallel_download_indices_from_remot": 6, "f": [6, 13, 14], "indices_file_path": 6, "dst_folder": 6, "download": 6, "quantize_vec_without_modifying_index": [6, 7], "vec": [6, 7], "qantiz": 6, "save_index": 6, "root_dir": 6, "index_filenam": 6, "search_speed_test": 6, "ksearch": 6, "40": [6, 7, 10, 15], "timout_": 6, "99p": 6, "set_search_hyperparamet": 6, "param_str": 6, "speed_test_ms_per_queri": 6, "evalu": 6, "without": 6, "effici": [6, 11], "memefficientflatindex": 6, "two": 6, "either": [6, 10], "smaller": 6, "reli": 6, "fulli": 6, "add_al": 6, "filenam": [6, 13, 15], "nb_item": 6, "memmori": 6, "dim": [6, 13, 15], "alreadi": [6, 10, 15], "known": 6, "add_fil": 6, "delete_vector": 6, "delet": 6, "4000000": 6, "explor": 6, "prefer": 6, "avoid": 6, "load": [6, 11], "search_fil": 6, "search_numpi": 6, "xq": 6, "implement": 6, "slower": 6, "new": [6, 10, 13], "moreov": 6, "relat": 6, "knn_queri": 6, "closest": 6, "item": 6, "associ": 6, "trainedindex": 6, "index_or_path": 6, "embedding_reader_or_path": 6, "properti": 6, "alia": 6, "field": 6, "create_and_train_index_from_embedding_dir": 6, "create_and_train_new_index": 6, "kind": 7, "one_recall_at_r": 7, "other_index": 7, "r_max": 7, "one_recall_at_r_singl": 7, "r_recall_at_r": 7, "r_recall_at_r_singl": 7, "error": [7, 10, 13, 15], "reconstruction_error": 7, "avg_norm_befor": 7, "variou": 8, "discrete_binary_search": 8, "is_ok": 8, "n": [8, 14], "domain": 8, "boolean": 8, "monoton": 8, "length": [8, 15], "scope": 8, "complex": 8, "o": [8, 13, 15], "multi_array_split": 8, "array_list": 8, "nb_chunk": 8, "sanit": 8, "variabl": 8, "other": 8, "cast_bytes_to_memory_str": 8, "num_byt": 8, "readabl": 8, "import": [8, 10, 13, 14, 15], "16": [8, 13, 15], "1024": [8, 15], "0gb": 8, "cast_memory_to_byt": 8, "memory_str": 8, "pars": 8, "16b": 8, "to_faiss_metric_typ": 8, "convert": 8, "to_readable_tim": 8, "round": [8, 14], "debug": [8, 10], "timeit": 8, "comment": 8, "contextdecor": 8, "context": 8, "manag": 8, "should_run_onc": 8, "func": 8, "run": [8, 10, 12], "onc": [8, 12], "fonction": 8, "rais": 8, "valueerror": 8, "timer": 8, "print": [8, 13, 15], "runtim": 8, "extract_partition_name_from_path": 8, "extract": [8, 13, 15], "make_path_absolut": 8, "packag": [9, 11, 15], "subpackag": 9, "submodul": 9, "content": 9, "version": [9, 11], "limit": 10, "lot": 10, "great": 10, "place": 10, "lib": [10, 12, 15], "automat": [10, 13, 14], "autofaiss": [10, 12], "flag": 10, "your": [10, 11, 15], "sever": [10, 13], "thei": 10, "lexicograph": [10, 13], "anoth": 10, "g": 10, "s3": 10, "matrix": 10, "serial": 10, "tabl": 10, "row": [10, 14], "32gb": 10, "gb": [10, 14], "present": 10, "document": 10, "io": 10, "clone": 10, "up": 10, "greatli": 10, "warn": 10, "30": [10, 15], "critic": 10, "50": [10, 14], "same": 10, "python": [10, 15], "environ": [10, 12], "specif": 10, "control": 10, "here": [10, 11], "help": 10, "For": 10, "1tb": 10, "hour": 10, "150gb": 10, "minut": [10, 13, 15], "better": 10, "closer": 10, "is_local_index_path": 10, "around": 10, "work": 10, "invert": 10, "95": [10, 15], "cell": 10, "visit": 10, "link": 10, "nb_total_vector": 10, "nb_cluster": 10, "center": 10, "impact": 10, "ham": 10, "higher": 10, "desactiv": 10, "high": 10, "By": 10, "know": 10, "There": 10, "just": 10, "Be": 10, "care": 10, "accur": 10, "slow": 10, "emb": 10, "4g": 10, "200m": 10, "1280d": 10, "whole": [10, 13, 15], "fit": 10, "much": 10, "want": 10, "16gb": 10, "5_000_000": 10, "popul": 10, "wai": 10, "tune": 11, "low": [11, 14], "requir": [11, 15], "command": [11, 12], "what": 11, "doe": 11, "behind": 11, "inform": 11, "own": 11, "plai": 11, "bonu": 11, "demo": [11, 13], "slider": 11, "page": 11, "dens": 12, "deepr_knn": 12, "deploi": 12, "through": 12, "api": 12, "virtual": 12, "python3": [12, 15], "venv": 12, "quantization_env": 12, "Then": 12, "bin": 12, "go": 12, "deepr_python": 12, "cd": 12, "final": 12, "pip": [12, 13, 14, 15], "now": 12, "cli": 12, "notebook": [12, 13], "achiev": 13, "highest": 13, "criteo": 13, "titl": [13, 14], "param": 13, "10mb": 13, "float32": [13, 15], "random": 13, "rand": 13, "4000": 13, "100": [13, 14, 15], "shutil": 13, "embeddings_dir": 13, "embeddings_fold": 13, "rmtree": 13, "makedir": 13, "part": 13, "data": [13, 15], "part1": 13, "2000": [13, 15], "part2": 13, "my_index_fold": [13, 15], "exist_ok": 13, "instal": [13, 14], "dev": [13, 14], "null": [13, 14], "launch": [13, 15], "pipelin": [13, 15], "08": [13, 15], "02": 13, "2021": [13, 15], "13": [13, 15], "25": [13, 15], "58": [13, 15], "gt": [13, 15], "7": [13, 14, 15], "total": [13, 15], "finish": [13, 15], "34": [13, 15], "0001": [13, 15], "sec": [13, 15], "enough": [13, 15], "0006": [13, 15], "characterist": [13, 15], "0012": [13, 15], "instanci": [13, 15], "hnsw32": 13, "0013": [13, 15], "00": [13, 15], "lt": [13, 15], "1055": [13, 15], "97it": 13, "0138": [13, 15], "91it": 13, "7210": 13, "7372": 13, "26": 13, "6057": 13, "1319": 13, "01": [13, 15], "0027": [13, 15], "9": [13, 14, 15], "8355": 13, "recap": [13, 15], "39": [13, 15], "99p_search_speed_m": [13, 15], "556187009999177": 13, "avg_search_speed_m": [13, 15], "902101082999792": 13, "compress": [13, 15], "5956986092671344": 13, "nb": [13, 15], "2685922": 13, "1962": 13, "done": [13, 15], "glob": [13, 15], "my_index": 13, "read_index": [13, 15], "query_vector": 13, "element": 13, "dist": [13, 15], "zip": [13, 15], "2933": 13, "404068946838379": 13, "168": 13, "53512191772461": 13, "2475": 13, "688979148864746": 13, "2525": 13, "713528633117676": 13, "3463": 13, "774477005004883": 13, "11": [13, 15], "0007": [13, 15], "0043": [13, 15], "0021": [13, 15], "421": 13, "77it": 13, "0238": [13, 15], "0000": [13, 15], "55it": 13, "7814": 13, "8182": 13, "2071": 13, "2077": 13, "0064": [13, 15], "1025": [13, 15], "0180": [13, 15], "157404919996907": 13, "750819220487383": 13, "15": [13, 15], "0867": [13, 15], "ipywidget": 14, "widget": 14, "ipython": [14, 15], "displai": [14, 15], "hbox": 14, "continuous_upd": 14, "floatlogslid": 14, "readout_format": 14, "0f": 14, "128": 14, "12": [14, 15], "def": 14, "get_text": 14, "_nb_vector": 14, "_dim_vector": 14, "_max_index_memory_usag": 14, "mb": [14, 15], "els": [14, 15], "opti_kei": 14, "imposs": 14, "larg": 14, "index_metadada": 14, "text": 14, "textarea": 14, "placehold": 14, "disabl": 14, "layout": 14, "width": 14, "updat": 14, "b": [14, 15], "messag": 14, "within": 14, "observ": 14, "img2dataset": 15, "collect": 15, "clip_retriev": 15, "py3": 15, "whl": 15, "kb": 15, "tar": 15, "gz": 15, "33": 15, "flask": 15, "rest": 15, "flask_rest": 15, "py2": 15, "satisfi": 15, "torchvis": 15, "usr": 15, "cu102": 15, "19": 15, "torch": 15, "anytorch": 15, "clip_anytorch": 15, "tqdm": 15, "41": 15, "cor": 15, "flask_cor": 15, "14": 15, "faiss_cpu": 15, "post2": 15, "cp37": 15, "cp37m": 15, "manylinux_2_17_x86_64": 15, "manylinux2014_x86_64": 15, "8": 15, "fire": 15, "87": 15, "opencv": 15, "dataclass": 15, "pyarrow": 15, "62": 15, "76": 15, "six": 15, "termcolor": 15, "pytz": 15, "2017": 15, "2018": 15, "dateutil": 15, "regex": 15, "2019": 15, "ftfy": 15, "64": 15, "click": 15, "werkzeug": 15, "jinja2": 15, "itsdanger": 15, "24": 15, "markupsaf": 15, "23": 15, "aniso8601": 15, "82": 15, "52": 15, "wcwidth": 15, "extens": 15, "pillow": 15, "wheel": 15, "py": 15, "48780": 15, "sha256": 15, "78f88a5d535fc3273231ed722ef8bd4dcfa832d7ecba4c61aa7bf91ef8a7691": 15, "a6": 15, "2f": 15, "e3": 15, "d2d4bda1af309cd9e86bd83652372762f5bae5460d4d5108cf": 15, "115943": 15, "a9a2ecaa4a312b5c6e9f530d4dbeb41f1387779d5b4032232d018a554f5a9103": 15, "8a": 15, "67": 15, "fb": 15, "2e8a12fa16661b9d5af1f654bd199366799740a85c64981226": 15, "41934": 15, "eb1f8693c149dda4dd1d24de8e1d363c2691206422a5ca97325fec61649a14cd": 15, "f5": 15, "38": 15, "273eb3b5e76dfd850619312f693716ac4518b498f5ffb6f56d": 15, "successfulli": 15, "built": 15, "attempt": 15, "uninstal": 15, "found": 15, "wget": 15, "raw": 15, "githubusercont": 15, "knok": 15, "pixabai": 15, "cat": 15, "master": 15, "classifi": 15, "jp": 15, "txt": 15, "myimglist": 15, "09": 15, "03": 15, "17": 15, "45": 15, "resolv": 15, "185": 15, "199": 15, "109": 15, "133": 15, "111": 15, "108": 15, "connect": 15, "443": 15, "sent": 15, "await": 15, "respons": 15, "200": 15, "ok": 15, "77377": 15, "76k": 15, "plain": 15, "75": 15, "56k": 15, "006": 15, "pictur": 15, "rm": 15, "rf": 15, "image_fold": 15, "url_list": 15, "output_fold": 15, "thread_count": 15, "image_s": 15, "success": 15, "fail": 15, "resiz": 15, "07": 15, "04": 15, "l": 15, "00000": 15, "jpg": 15, "0161": 15, "0323": 15, "0484": 15, "0646": 15, "0807": 15, "0969": 15, "0162": 15, "0485": 15, "0808": 15, "0324": 15, "0647": 15, "0970": 15, "0163": 15, "0486": 15, "0809": 15, "0002": 15, "0325": 15, "0648": 15, "0971": 15, "0164": 15, "0487": 15, "0810": 15, "0003": 15, "0326": 15, "0649": 15, "0972": 15, "0165": 15, "0488": 15, "0811": 15, "0004": 15, "0327": 15, "0650": 15, "0973": 15, "0166": 15, "0489": 15, "0812": 15, "0005": 15, "0328": 15, "0651": 15, "0974": 15, "0167": 15, "0490": 15, "0813": 15, "0329": 15, "0652": 15, "0975": 15, "0168": 15, "0491": 15, "0814": 15, "0330": 15, "0653": 15, "0976": 15, "0169": 15, "0492": 15, "0815": 15, "0008": 15, "0331": 15, "0654": 15, "0977": 15, "0170": 15, "0493": 15, "0816": 15, "0009": 15, "0332": 15, "0655": 15, "0978": 15, "0171": 15, "0494": 15, "0817": 15, "0010": 15, "0333": 15, "0656": 15, "0979": 15, "0172": 15, "0495": 15, "0818": 15, "0011": 15, "0334": 15, "0657": 15, "0980": 15, "0173": 15, "0496": 15, "0819": 15, "0335": 15, "0658": 15, "0981": 15, "0174": 15, "0497": 15, "0820": 15, "0336": 15, "0659": 15, "0982": 15, "0175": 15, "0498": 15, "0821": 15, "0014": 15, "0337": 15, "0660": 15, "0983": 15, "0176": 15, "0499": 15, "0822": 15, "0015": 15, "0338": 15, "0661": 15, "0984": 15, "0177": 15, "0500": 15, "0823": 15, "0016": 15, "0339": 15, "0662": 15, "0985": 15, "0178": 15, "0501": 15, "0824": 15, "0017": 15, "0340": 15, "0663": 15, "0986": 15, "0179": 15, "0502": 15, "0825": 15, "0018": 15, "0341": 15, "0664": 15, "0987": 15, "0503": 15, "0826": 15, "0019": 15, "0342": 15, "0665": 15, "0988": 15, "0181": 15, "0504": 15, "0827": 15, "0020": 15, "0343": 15, "0666": 15, "0989": 15, "0182": 15, "0505": 15, "0828": 15, "0344": 15, "0667": 15, "0990": 15, "0183": 15, "0506": 15, "0829": 15, "0022": 15, "0345": 15, "0668": 15, "0991": 15, "0184": 15, "0507": 15, "0830": 15, "0023": 15, "0346": 15, "0669": 15, "0992": 15, "0185": 15, "0508": 15, "0831": 15, "0024": 15, "0347": 15, "0670": 15, "0993": 15, "0186": 15, "0509": 15, "0832": 15, "0025": 15, "0348": 15, "0671": 15, "0994": 15, "0187": 15, "0510": 15, "0833": 15, "0026": 15, "0349": 15, "0672": 15, "0995": 15, "0188": 15, "0511": 15, "0834": 15, "0350": 15, "0673": 15, "0996": 15, "0189": 15, "0512": 15, "0835": 15, "0028": 15, "0351": 15, "0674": 15, "0997": 15, "0190": 15, "0513": 15, "0836": 15, "0029": 15, "0352": 15, "0675": 15, "0998": 15, "0191": 15, "0514": 15, "0837": 15, "0030": 15, "0353": 15, "0676": 15, "0999": 15, "0192": 15, "0515": 15, "0838": 15, "0031": 15, "0354": 15, "0677": 15, "0193": 15, "0516": 15, "0839": 15, "0032": 15, "0355": 15, "0678": 15, "1001": 15, "0194": 15, "0517": 15, "0840": 15, "0033": 15, "0356": 15, "0679": 15, "1002": 15, "0195": 15, "0518": 15, "0841": 15, "0034": 15, "0357": 15, "0680": 15, "1003": 15, "0196": 15, "0519": 15, "0842": 15, "0035": 15, "0358": 15, "0681": 15, "1004": 15, "0197": 15, "0520": 15, "0843": 15, "0036": 15, "0359": 15, "0682": 15, "1005": 15, "0198": 15, "0521": 15, "0844": 15, "0037": 15, "0360": 15, "0683": 15, "1006": 15, "0199": 15, "0522": 15, "0845": 15, "0038": 15, "0361": 15, "0684": 15, "1007": 15, "0200": 15, "0523": 15, "0846": 15, "0039": 15, "0362": 15, "0685": 15, "1008": 15, "0201": 15, "0524": 15, "0847": 15, "0040": 15, "0363": 15, "0686": 15, "1009": 15, "0202": 15, "0525": 15, "0848": 15, "0041": 15, "0364": 15, "0687": 15, "1010": 15, "0203": 15, "0526": 15, "0849": 15, "0042": 15, "0365": 15, "0688": 15, "1011": 15, "0204": 15, "0527": 15, "0850": 15, "0366": 15, "0689": 15, "1012": 15, "0205": 15, "0528": 15, "0851": 15, "0044": 15, "0367": 15, "0690": 15, "1013": 15, "0206": 15, "0529": 15, "0852": 15, "0045": 15, "0368": 15, "0691": 15, "1014": 15, "0207": 15, "0530": 15, "0853": 15, "0046": 15, "0369": 15, "0692": 15, "1015": 15, "0208": 15, "0531": 15, "0854": 15, "0047": 15, "0370": 15, "0693": 15, "1016": 15, "0209": 15, "0532": 15, "0855": 15, "0048": 15, "0371": 15, "0694": 15, "1017": 15, "0210": 15, "0533": 15, "0856": 15, "0049": 15, "0372": 15, "0695": 15, "1018": 15, "0211": 15, "0534": 15, "0857": 15, "0050": 15, "0373": 15, "0696": 15, "1019": 15, "0212": 15, "0535": 15, "0858": 15, "0051": 15, "0374": 15, "0697": 15, "1020": 15, "0213": 15, "0536": 15, "0859": 15, "0052": 15, "0375": 15, "0698": 15, "1021": 15, "0214": 15, "0537": 15, "0860": 15, "0053": 15, "0376": 15, "0699": 15, "1022": 15, "0215": 15, "0538": 15, "0861": 15, "0054": 15, "0377": 15, "0700": 15, "1023": 15, "0216": 15, "0539": 15, "0862": 15, "0055": 15, "0378": 15, "0701": 15, "0217": 15, "0540": 15, "0863": 15, "0056": 15, "0379": 15, "0702": 15, "0218": 15, "0541": 15, "0864": 15, "0057": 15, "0380": 15, "0703": 15, "1026": 15, "0219": 15, "0542": 15, "0865": 15, "0058": 15, "0381": 15, "0704": 15, "1027": 15, "0220": 15, "0543": 15, "0866": 15, "0059": 15, "0382": 15, "0705": 15, "1028": 15, "0221": 15, "0544": 15, "0060": 15, "0383": 15, "0706": 15, "1029": 15, "0222": 15, "0545": 15, "0868": 15, "0061": 15, "0384": 15, "0707": 15, "1030": 15, "0223": 15, "0546": 15, "0869": 15, "0062": 15, "0385": 15, "0708": 15, "1031": 15, "0224": 15, "0547": 15, "0870": 15, "0063": 15, "0386": 15, "0709": 15, "1032": 15, "0225": 15, "0548": 15, "0871": 15, "0387": 15, "0710": 15, "1033": 15, "0226": 15, "0549": 15, "0872": 15, "0065": 15, "0388": 15, "0711": 15, "1034": 15, "0227": 15, "0550": 15, "0873": 15, "0066": 15, "0389": 15, "0712": 15, "1035": 15, "0228": 15, "0551": 15, "0874": 15, "0067": 15, "0390": 15, "0713": 15, "1036": 15, "0229": 15, "0552": 15, "0875": 15, "0068": 15, "0391": 15, "0714": 15, "1037": 15, "0230": 15, "0553": 15, "0876": 15, "0069": 15, "0392": 15, "0715": 15, "1038": 15, "0231": 15, "0554": 15, "0877": 15, "0070": 15, "0393": 15, "0716": 15, "1039": 15, "0232": 15, "0555": 15, "0878": 15, "0071": 15, "0394": 15, "0717": 15, "1040": 15, "0233": 15, "0556": 15, "0879": 15, "0072": 15, "0395": 15, "0718": 15, "1041": 15, "0234": 15, "0557": 15, "0880": 15, "0073": 15, "0396": 15, "0719": 15, "1042": 15, "0235": 15, "0558": 15, "0881": 15, "0074": 15, "0397": 15, "0720": 15, "1043": 15, "0236": 15, "0559": 15, "0882": 15, "0075": 15, "0398": 15, "0721": 15, "1044": 15, "0237": 15, "0560": 15, "0883": 15, "0076": 15, "0399": 15, "0722": 15, "1045": 15, "0561": 15, "0884": 15, "0077": 15, "0400": 15, "0723": 15, "1046": 15, "0239": 15, "0562": 15, "0885": 15, "0078": 15, "0401": 15, "0724": 15, "1047": 15, "0240": 15, "0563": 15, "0886": 15, "0079": 15, "0402": 15, "0725": 15, "1048": 15, "0241": 15, "0564": 15, "0887": 15, "0080": 15, "0403": 15, "0726": 15, "1049": 15, "0242": 15, "0565": 15, "0888": 15, "0081": 15, "0404": 15, "0727": 15, "1050": 15, "0243": 15, "0566": 15, "0889": 15, "0082": 15, "0405": 15, "0728": 15, "1051": 15, "0244": 15, "0567": 15, "0890": 15, "0083": 15, "0406": 15, "0729": 15, "1052": 15, "0245": 15, "0568": 15, "0891": 15, "0084": 15, "0407": 15, "0730": 15, "1053": 15, "0246": 15, "0569": 15, "0892": 15, "0085": 15, "0408": 15, "0731": 15, "1054": 15, "0247": 15, "0570": 15, "0893": 15, "0086": 15, "0409": 15, "0732": 15, "0248": 15, "0571": 15, "0894": 15, "0087": 15, "0410": 15, "0733": 15, "1056": 15, "0249": 15, "0572": 15, "0895": 15, "0088": 15, "0411": 15, "0734": 15, "1057": 15, "0250": 15, "0573": 15, "0896": 15, "0089": 15, "0412": 15, "0735": 15, "1058": 15, "0251": 15, "0574": 15, "0897": 15, "0090": 15, "0413": 15, "0736": 15, "1059": 15, "0252": 15, "0575": 15, "0898": 15, "0091": 15, "0414": 15, "0737": 15, "1060": 15, "0253": 15, "0576": 15, "0899": 15, "0092": 15, "0415": 15, "0738": 15, "1061": 15, "0254": 15, "0577": 15, "0900": 15, "0093": 15, "0416": 15, "0739": 15, "1062": 15, "0255": 15, "0578": 15, "0901": 15, "0094": 15, "0417": 15, "0740": 15, "1063": 15, "0256": 15, "0579": 15, "0902": 15, "0095": 15, "0418": 15, "0741": 15, "1064": 15, "0257": 15, "0580": 15, "0903": 15, "0096": 15, "0419": 15, "0742": 15, "1065": 15, "0258": 15, "0581": 15, "0904": 15, "0097": 15, "0420": 15, "0743": 15, "1066": 15, "0259": 15, "0582": 15, "0905": 15, "0098": 15, "0421": 15, "0744": 15, "1067": 15, "0260": 15, "0583": 15, "0906": 15, "0099": 15, "0422": 15, "0745": 15, "1068": 15, "0261": 15, "0584": 15, "0907": 15, "0100": 15, "0423": 15, "0746": 15, "1069": 15, "0262": 15, "0585": 15, "0908": 15, "0101": 15, "0424": 15, "0747": 15, "1070": 15, "0263": 15, "0586": 15, "0909": 15, "0102": 15, "0425": 15, "0748": 15, "1071": 15, "0264": 15, "0587": 15, "0910": 15, "0103": 15, "0426": 15, "0749": 15, "1072": 15, "0265": 15, "0588": 15, "0911": 15, "0104": 15, "0427": 15, "0750": 15, "1073": 15, "0266": 15, "0589": 15, "0912": 15, "0105": 15, "0428": 15, "0751": 15, "1074": 15, "0267": 15, "0590": 15, "0913": 15, "0106": 15, "0429": 15, "0752": 15, "1075": 15, "0268": 15, "0591": 15, "0914": 15, "0107": 15, "0430": 15, "0753": 15, "1076": 15, "0269": 15, "0592": 15, "0915": 15, "0108": 15, "0431": 15, "0754": 15, "1077": 15, "0270": 15, "0593": 15, "0916": 15, "0109": 15, "0432": 15, "0755": 15, "1078": 15, "0271": 15, "0594": 15, "0917": 15, "0110": 15, "0433": 15, "0756": 15, "1079": 15, "0272": 15, "0595": 15, "0918": 15, "0111": 15, "0434": 15, "0757": 15, "1080": 15, "0273": 15, "0596": 15, "0919": 15, "0112": 15, "0435": 15, "0758": 15, "1081": 15, "0274": 15, "0597": 15, "0920": 15, "0113": 15, "0436": 15, "0759": 15, "1082": 15, "0275": 15, "0598": 15, "0921": 15, "0114": 15, "0437": 15, "0760": 15, "1083": 15, "0276": 15, "0599": 15, "0922": 15, "0115": 15, "0438": 15, "0761": 15, "1084": 15, "0277": 15, "0600": 15, "0923": 15, "0116": 15, "0439": 15, "0762": 15, "1085": 15, "0278": 15, "0601": 15, "0924": 15, "0117": 15, "0440": 15, "0763": 15, "1086": 15, "0279": 15, "0602": 15, "0925": 15, "0118": 15, "0441": 15, "0764": 15, "1087": 15, "0280": 15, "0603": 15, "0926": 15, "0119": 15, "0442": 15, "0765": 15, "1088": 15, "0281": 15, "0604": 15, "0927": 15, "0120": 15, "0443": 15, "0766": 15, "1089": 15, "0282": 15, "0605": 15, "0928": 15, "0121": 15, "0444": 15, "0767": 15, "1090": 15, "0283": 15, "0606": 15, "0929": 15, "0122": 15, "0445": 15, "0768": 15, "1091": 15, "0284": 15, "0607": 15, "0930": 15, "0123": 15, "0446": 15, "0769": 15, "1092": 15, "0285": 15, "0608": 15, "0931": 15, "0124": 15, "0447": 15, "0770": 15, "1093": 15, "0286": 15, "0609": 15, "0932": 15, "0125": 15, "0448": 15, "0771": 15, "1094": 15, "0287": 15, "0610": 15, "0933": 15, "0126": 15, "0449": 15, "0772": 15, "1095": 15, "0288": 15, "0611": 15, "0934": 15, "0127": 15, "0450": 15, "0773": 15, "1096": 15, "0289": 15, "0612": 15, "0935": 15, "0128": 15, "0451": 15, "0774": 15, "1097": 15, "0290": 15, "0613": 15, "0936": 15, "0129": 15, "0452": 15, "0775": 15, "1098": 15, "0291": 15, "0614": 15, "0937": 15, "0130": 15, "0453": 15, "0776": 15, "1099": 15, "0292": 15, "0615": 15, "0938": 15, "0131": 15, "0454": 15, "0777": 15, "1100": 15, "0293": 15, "0616": 15, "0939": 15, "0132": 15, "0455": 15, "0778": 15, "1101": 15, "0294": 15, "0617": 15, "0940": 15, "0133": 15, "0456": 15, "0779": 15, "1102": 15, "0295": 15, "0618": 15, "0941": 15, "0134": 15, "0457": 15, "0780": 15, "1103": 15, "0296": 15, "0619": 15, "0942": 15, "0135": 15, "0458": 15, "0781": 15, "1104": 15, "0297": 15, "0620": 15, "0943": 15, "0136": 15, "0459": 15, "0782": 15, "1105": 15, "0298": 15, "0621": 15, "0944": 15, "0137": 15, "0460": 15, "0783": 15, "1106": 15, "0299": 15, "0622": 15, "0945": 15, "0461": 15, "0784": 15, "1107": 15, "0300": 15, "0623": 15, "0946": 15, "0139": 15, "0462": 15, "0785": 15, "1108": 15, "0301": 15, "0624": 15, "0947": 15, "0140": 15, "0463": 15, "0786": 15, "1109": 15, "0302": 15, "0625": 15, "0948": 15, "0141": 15, "0464": 15, "0787": 15, "1110": 15, "0303": 15, "0626": 15, "0949": 15, "0142": 15, "0465": 15, "0788": 15, "1111": 15, "0304": 15, "0627": 15, "0950": 15, "0143": 15, "0466": 15, "0789": 15, "1112": 15, "0305": 15, "0628": 15, "0951": 15, "0144": 15, "0467": 15, "0790": 15, "1113": 15, "0306": 15, "0629": 15, "0952": 15, "0145": 15, "0468": 15, "0791": 15, "1114": 15, "0307": 15, "0630": 15, "0953": 15, "0146": 15, "0469": 15, "0792": 15, "1115": 15, "0308": 15, "0631": 15, "0954": 15, "0147": 15, "0470": 15, "0793": 15, "1116": 15, "0309": 15, "0632": 15, "0955": 15, "0148": 15, "0471": 15, "0794": 15, "1117": 15, "0310": 15, "0633": 15, "0956": 15, "0149": 15, "0472": 15, "0795": 15, "1118": 15, "0311": 15, "0634": 15, "0957": 15, "0150": 15, "0473": 15, "0796": 15, "1119": 15, "0312": 15, "0635": 15, "0958": 15, "0151": 15, "0474": 15, "0797": 15, "1120": 15, "0313": 15, "0636": 15, "0959": 15, "0152": 15, "0475": 15, "0798": 15, "1121": 15, "0314": 15, "0637": 15, "0960": 15, "0153": 15, "0476": 15, "0799": 15, "1122": 15, "0315": 15, "0638": 15, "0961": 15, "0154": 15, "0477": 15, "0800": 15, "1123": 15, "0316": 15, "0639": 15, "0962": 15, "0155": 15, "0478": 15, "0801": 15, "1124": 15, "0317": 15, "0640": 15, "0963": 15, "0156": 15, "0479": 15, "0802": 15, "1125": 15, "0318": 15, "0641": 15, "0964": 15, "0157": 15, "0480": 15, "0803": 15, "1126": 15, "0319": 15, "0642": 15, "0965": 15, "0158": 15, "0481": 15, "0804": 15, "1127": 15, "0320": 15, "0643": 15, "0966": 15, "0159": 15, "0482": 15, "0805": 15, "1128": 15, "0321": 15, "0644": 15, "0967": 15, "0160": 15, "0483": 15, "0806": 15, "0322": 15, "0645": 15, "0968": 15, "embedding_fold": 15, "infer": 15, "input_dataset": 15, "1280it": 15, "786": 15, "60it": 15, "img_emb": 15, "pathlib": 15, "data_dir": 15, "df": 15, "concat": 15, "read_parquet": 15, "parquet_fil": 15, "image_list": 15, "image_path": 15, "tolist": 15, "48": 15, "hnsw15": 15, "2360": 15, "33it": 15, "1129": 15, "512": 15, "4165": 15, "15it": 15, "4912": 15, "16383": 15, "7250": 15, "054281142307445": 15, "8590588502702303": 15, "9376627695252463": 15, "2465910": 15, "2509": 15, "ind": 15, "image_numb": 15, "600": 15, "expand_dim": 15, "0002233": 15, "938573": 15, "536": 15, "9294769": 15, "569": 15, "9241176": 15, "289": 15, "9147578": 15, "220": 15, "devic": 15, "cuda": 15, "is_avail": 15, "vit": 15, "jit": 15, "white": 15, "blue": 15, "ey": 15, "text_token": 15, "token": 15, "truncat": 15, "text_featur": 15, "encode_text": 15, "norm": 15, "keepdim": 15, "text_embed": 15, "detach": 15, "astyp": 15, "34918442": 15, "605": 15, "33592817": 15, "192": 15, "33229536": 15, "3288885": 15, "911": 15, "32780161": 15, "795": 15, "18": 15, "newcat": 15, "thiscatdoesnotexist": 15, "pil": 15, "open": 15, "image_tensor": 15, "image_featur": 15, "encode_imag": 15, "unsqueez": 15, "image_embed": 15, "cannot": 15, "remov": 15, "No": 15, "216": 15, "178655": 15, "174k": 15, "jpeg": 15, "174": 15, "47k": 15, "9238506": 15, "607": 15, "9226495": 15, "474": 15, "9225365": 15, "98": 15, "91967094": 15, "775": 15, "9180758": 15, "794": 15}, "objects": {"": [[4, 0, 0, "-", "autofaiss"]], "autofaiss": [[5, 0, 0, "-", "external"], [6, 0, 0, "-", "indices"], [7, 0, 0, "-", "metrics"], [8, 0, 0, "-", "utils"], [4, 0, 0, "-", "version"]], "autofaiss.external": [[5, 0, 0, "-", "build"], [5, 0, 0, "-", "descriptions"], [5, 0, 0, "-", "metadata"], [5, 0, 0, "-", "optimize"], [5, 0, 0, "-", "quantize"], [5, 0, 0, "-", "scores"]], "autofaiss.external.build": [[5, 1, 1, "", "add_embeddings_to_index"], [5, 1, 1, "", "create_index"], [5, 1, 1, "", "create_partitioned_indexes"], [5, 1, 1, "", "estimate_memory_required_for_index_creation"], [5, 1, 1, "", "get_estimated_construction_time_infos"]], "autofaiss.external.descriptions": [[5, 2, 1, "", "IndexBlock"], [5, 2, 1, "", "TunableParam"]], "autofaiss.external.descriptions.IndexBlock": [[5, 3, 1, "", "FLAT"], [5, 3, 1, "", "HNSW"], [5, 3, 1, "", "IVF"], [5, 3, 1, "", "IVF_HNSW"], [5, 3, 1, "", "OPQ"], [5, 3, 1, "", "PAD"], [5, 3, 1, "", "PQ"]], "autofaiss.external.descriptions.TunableParam": [[5, 3, 1, "", "EFSEARCH"], [5, 3, 1, "", "HT"], [5, 3, 1, "", "NPROBE"]], "autofaiss.external.metadata": [[5, 2, 1, "", "IndexMetadata"], [5, 2, 1, "", "IndexType"], [5, 1, 1, "", "compute_memory_necessary_for_training_wrapper"]], "autofaiss.external.metadata.IndexMetadata": [[5, 4, 1, "", "compute_memory_necessary_for_ivf_flat"], [5, 4, 1, "", "compute_memory_necessary_for_opq_ivf_hnsw_pq"], [5, 4, 1, "", "compute_memory_necessary_for_opq_ivf_pq"], [5, 4, 1, "", "compute_memory_necessary_for_pad_ivf_hnsw_pq"], [5, 4, 1, "", "compute_memory_necessary_for_training"], [5, 4, 1, "", "estimated_index_size_in_bytes"], [5, 4, 1, "", "get_index_description"], [5, 4, 1, "", "get_index_type"]], "autofaiss.external.metadata.IndexType": [[5, 3, 1, "", "FLAT"], [5, 3, 1, "", "HNSW"], [5, 3, 1, "", "IVF_FLAT"], [5, 3, 1, "", "NOT_SUPPORTED"], [5, 3, 1, "", "OPQ_IVF_HNSW_PQ"], [5, 3, 1, "", "OPQ_IVF_PQ"], [5, 3, 1, "", "PAD_IVF_HNSW_PQ"]], "autofaiss.external.optimize": [[5, 1, 1, "", "binary_search_on_param"], [5, 1, 1, "", "check_if_index_needs_training"], [5, 1, 1, "", "get_min_param_value_for_best_neighbors_coverage"], [5, 1, 1, "", "get_optimal_batch_size"], [5, 1, 1, "", "get_optimal_hyperparameters"], [5, 1, 1, "", "get_optimal_index_keys_v2"], [5, 1, 1, "", "get_optimal_ivf"], [5, 1, 1, "", "get_optimal_nb_clusters"], [5, 1, 1, "", "get_optimal_quantization"], [5, 1, 1, "", "get_optimal_train_size"], [5, 1, 1, "", "index_key_to_nb_cluster"], [5, 1, 1, "", "optimize_and_measure_index"]], "autofaiss.external.quantize": [[5, 1, 1, "", "build_index"], [5, 1, 1, "", "build_partitioned_indexes"], [5, 1, 1, "", "check_not_null_not_empty"], [5, 1, 1, "", "main"], [5, 1, 1, "", "score_index"], [5, 1, 1, "", "setup_logging"], [5, 1, 1, "", "tune_index"]], "autofaiss.external.scores": [[5, 1, 1, "", "compute_fast_metrics"], [5, 1, 1, "", "compute_medium_metrics"], [5, 1, 1, "", "get_ground_truth"]], "autofaiss.indices": [[6, 0, 0, "-", "build"], [6, 0, 0, "-", "distributed"], [6, 0, 0, "-", "faiss_index_wrapper"], [6, 0, 0, "-", "index_factory"], [6, 0, 0, "-", "index_utils"], [6, 0, 0, "-", "memory_efficient_flat_index"], [6, 0, 0, "-", "search"], [6, 0, 0, "-", "training"]], "autofaiss.indices.build": [[6, 1, 1, "", "add_embeddings_to_index_local"], [6, 1, 1, "", "get_optimize_index_fn"], [6, 1, 1, "", "get_write_ids_df_to_parquet_fn"]], "autofaiss.indices.distributed": [[6, 1, 1, "", "add_embeddings_to_index_distributed"], [6, 1, 1, "", "create_big_index"], [6, 1, 1, "", "create_partitioned_indexes"], [6, 1, 1, "", "create_small_index"]], "autofaiss.indices.faiss_index_wrapper": [[6, 2, 1, "", "FaissIndexWrapper"]], "autofaiss.indices.faiss_index_wrapper.FaissIndexWrapper": [[6, 4, 1, "", "add"], [6, 4, 1, "", "search"]], "autofaiss.indices.index_factory": [[6, 1, 1, "", "index_factory"]], "autofaiss.indices.index_utils": [[6, 1, 1, "", "format_speed_ms_per_query"], [6, 1, 1, "", "get_bytes_from_index"], [6, 1, 1, "", "get_index_from_bytes"], [6, 1, 1, "", "get_index_size"], [6, 1, 1, "", "initialize_direct_map"], [6, 1, 1, "", "load_index"], [6, 1, 1, "", "parallel_download_indices_from_remote"], [6, 1, 1, "", "quantize_vec_without_modifying_index"], [6, 1, 1, "", "save_index"], [6, 1, 1, "", "search_speed_test"], [6, 1, 1, "", "set_search_hyperparameters"], [6, 1, 1, "", "speed_test_ms_per_query"]], "autofaiss.indices.memory_efficient_flat_index": [[6, 2, 1, "", "MemEfficientFlatIndex"]], "autofaiss.indices.memory_efficient_flat_index.MemEfficientFlatIndex": [[6, 4, 1, "", "add"], [6, 4, 1, "", "add_all"], [6, 4, 1, "", "add_files"], [6, 4, 1, "", "delete_vectors"], [6, 4, 1, "", "search"], [6, 4, 1, "", "search_files"], [6, 4, 1, "", "search_numpy"]], "autofaiss.indices.search": [[6, 1, 1, "", "knn_query"]], "autofaiss.indices.training": [[6, 2, 1, "", "TrainedIndex"], [6, 1, 1, "", "create_and_train_index_from_embedding_dir"], [6, 1, 1, "", "create_and_train_new_index"]], "autofaiss.indices.training.TrainedIndex": [[6, 5, 1, "", "embedding_reader_or_path"], [6, 5, 1, "", "index_key"], [6, 5, 1, "", "index_or_path"]], "autofaiss.metrics": [[7, 0, 0, "-", "recalls"], [7, 0, 0, "-", "reconstruction"]], "autofaiss.metrics.recalls": [[7, 1, 1, "", "one_recall_at_r"], [7, 1, 1, "", "one_recall_at_r_single"], [7, 1, 1, "", "r_recall_at_r"], [7, 1, 1, "", "r_recall_at_r_single"]], "autofaiss.metrics.reconstruction": [[7, 1, 1, "", "quantize_vec_without_modifying_index"], [7, 1, 1, "", "reconstruction_error"]], "autofaiss.utils": [[8, 0, 0, "-", "algorithms"], [8, 0, 0, "-", "array_functions"], [8, 0, 0, "-", "cast"], [8, 0, 0, "-", "decorators"], [8, 0, 0, "-", "path"]], "autofaiss.utils.algorithms": [[8, 1, 1, "", "discrete_binary_search"]], "autofaiss.utils.array_functions": [[8, 1, 1, "", "multi_array_split"], [8, 1, 1, "", "sanitize"]], "autofaiss.utils.cast": [[8, 1, 1, "", "cast_bytes_to_memory_string"], [8, 1, 1, "", "cast_memory_to_bytes"], [8, 1, 1, "", "to_faiss_metric_type"], [8, 1, 1, "", "to_readable_time"]], "autofaiss.utils.decorators": [[8, 2, 1, "", "Timeit"], [8, 1, 1, "", "should_run_once"], [8, 1, 1, "", "timer"]], "autofaiss.utils.path": [[8, 1, 1, "", "extract_partition_name_from_path"], [8, 1, 1, "", "make_path_absolute"]]}, "objtypes": {"0": "py:module", "1": "py:function", "2": "py:class", "3": "py:attribute", "4": "py:method", "5": "py:property"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "function", "Python function"], "2": ["py", "class", "Python class"], "3": ["py", "attribute", "Python attribute"], "4": ["py", "method", "Python method"], "5": ["py", "property", "Python property"]}, "titleterms": {"autofaiss": [0, 1, 2, 4, 5, 6, 7, 8, 9, 11, 13, 14, 15], "extern": [0, 1, 2, 5], "quantiz": [0, 1, 2, 3, 5], "build_index": [0, 10], "score_index": 1, "tune_index": [2, 10], "python": [3, 11, 13], "document": [3, 11], "packag": [4, 5, 6, 7, 8], "subpackag": 4, "submodul": [4, 5, 6, 7, 8], "version": [4, 13], "modul": [4, 5, 6, 7, 8], "content": [4, 5, 6, 7, 8], "build": [5, 6, 13, 15], "descript": 5, "metadata": 5, "optim": 5, "score": [5, 10], "indic": [6, 11], "distribut": 6, "faiss_index_wrapp": 6, "index_factori": 6, "index_util": 6, "memory_efficient_flat_index": 6, "search": 6, "train": 6, "metric": 7, "benchmark": 7, "recal": 7, "reconstruct": 7, "util": 8, "algorithm": 8, "array_funct": 8, "cast": 8, "decor": 8, "path": 8, "creat": 10, "an": 10, "index": [10, 13, 14, 15], "The": 10, "us": [10, 11], "case": 10, "command": 10, "paramet": [10, 13], "time": 10, "requir": [10, 12], "tune": 10, "exist": 10, "return": 10, "what": 10, "doe": 10, "behind": 10, "get": [10, 11, 13], "partit": 10, "build_partitioned_index": 10, "refer": 11, "introduct": [11, 12], "instal": [11, 12, 15], "start": [11, 13], "cli": [11, 13], "from": [11, 15], "notebook": 11, "tabl": 11, "inform": 13, "embed": [13, 15], "creation": 13, "add": 13, "your": 13, "own": 13, "here": 13, "save": 13, "disk": 13, "knn": 13, "load": [13, 15], "plai": 13, "bonu": 13, "select": 14, "demo": 14, "slider": 14, "clip": 15, "download": 15, "dataset": 15, "imag": 15, "simpl": 15, "queri": 15, "text": 15}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.intersphinx": 1, "sphinx.ext.viewcode": 1, "nbsphinx": 4, "sphinx": 56}})